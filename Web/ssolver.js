function Point(f,g){this.getRow=function(){return f};this.getCol=function(){return g}}
function Solver(f){function g(){for(var c=0;9>c;c++){for(var a=c,b=[],d=0;9>d;d++)0!=e[a][d]&&b.push(e[a][d]);b=b.sort();for(a=0;a<b.length-1;a++)if(b[a]==b[a+1]&&0!=b[a])return!0}for(c=0;9>c;c++){a=c;b=[];for(d=0;9>d;d++)0!=e[d][a]&&b.push(e[d][a]);b=b.sort();for(a=0;a<b.length-1;a++)if(b[a]==b[a+1]&&0!=b[a])return!0}for(a=0;9>a;a++){for(var c=[],b=a%3*3,d=3*Math.floor(a/3),h=0;3>h;h++)for(var f=0;3>f;f++)0!=e[d][b]&&c.push(e[d+h][b+f]);b=c.sort();for(c=0;c<b.length-1;c++)if(b[c]==b[c+1]&&0!=b[c])return!0}return!1}
function m(c,a,b){if(0!=e[a][b])return!1;for(var d=0;9>d;d++)if(e[a][d]==c)return!1;for(d=0;9>d;d++)if(e[d][b]==c)return!1;for(;0!=b%3&&3!=b%3;)b--;for(;0!=a%3&&3!=a%3;)a--;for(d=0;3>d;d++)for(var f=0;3>f;f++)if(e[a+d][b+f]==c)return!1;return!0}function k(c,a){for(;9>c;){if(0==e[c][a])return new Point(c,a);a++;9==a&&(a=0,c++)}return null}function l(c,a){for(var b=1;9>=b;b++)if(m(b,c,a)){e[c][a]=b;var d=k(c,a);if(null==d||l(d.getRow(),d.getCol()))return!0;e[c][a]=0}return!1}if(f.constructor!=Array||
81!=f.length)return{};var n=[],e=[];(function(){for(var c=0,a=0;9>a;a++){for(var b=[],d=0;9>d;d++)b.push(f[c]),0==f[c]&&n.push(new Point(a,d)),c++;e.push(b)}})();this.solve=function(){if(g())return!1;var c=k(0,0);return l(c.getRow(),c.getCol())};this.getGrid=function(){return e}};
